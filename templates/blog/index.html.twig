{% extends 'base.html.twig' %}


{% block title %}Accueil | {{ parent() }}{% endblock %}

{% block body %}
<div class="container">
    <h2 class="mt-3 mb-4">Article</h2>
    <div class="col-md-8">
        <div class="row">
            {% for article in articles %}
                <div class="col-md-4">
                    <div class="card mb-4">
                        <img src="{{ asset('uploads/' ~ article.picture) }}" class="card-img-top" alt="{{ article.title }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ article.title }}</h5>
                            <p class="card-text">{{ article.content }}</p>
                            {{ article.publicationDate|date('d/m/Y') }}
							à
							{{ article.publicationDate|date('H:i') }}</p>
                            <div class="d-flex justify-content-between align-item-center">
                                <a href="{{ path('article.detail', {id: article.id}) }}" class="btn btn-dark">
                                    Voir details
                                </a>    
                                <span class="h5 mt-auto">{{ article.price }} €</span>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    <div class="col-md-4">
		<h2>Categories</h2>
		<ul class="list-group">
			{% for category in categories %}
				<li class="list-group-item d-flex justify-content-between align-items-center">
					<a href="{{ path('article_show', {'id':category.id}) }}" style="text-decoration:none">{{ category.label }}
						<span class="badge bg-primary rounded-pill">{{category.articles | length }}
							article(s)</span>
					</a>
				</li>
			{% endfor %}

		</ul>
	</div>
</div>
{% endblock %}
